package com.example.andrea.lab11;

import android.util.Log;

import com.firebase.geofire.GeoLocation;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.Collections;
import java.util.Comparator;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;

public class Location {

    private String deBugTag;
    private HashMap<String, GeoLocation> italianSuburbs_coordinates_Map;
    private JSONArray italianSuburbsJSON;

    public Location(){

        deBugTag = this.getClass().getName();
        Log.d(deBugTag,"inizio");
        italianSuburbs_coordinates_Map = new HashMap<>();

        try{
            italianSuburbsJSON = new JSONArray("[{\r\n  \"id\": \"84\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Agrigento\",\r\n  \"sigla_automobilistica\": \"AG\",\r\n  \"latitudine\": 37.31109,\r\n  \"longitudine\": 13.576548\r\n}, {\r\n  \"id\": \"6\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Alessandria\",\r\n  \"sigla_automobilistica\": \"AL\",\r\n  \"latitudine\": 44.817559,\r\n  \"longitudine\": 8.704663\r\n}, {\r\n  \"id\": \"42\",\r\n  \"id_regione\": \"11\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ancona\",\r\n  \"sigla_automobilistica\": \"AN\",\r\n  \"latitudine\": 43.549325,\r\n  \"longitudine\": 13.266348\r\n}, {\r\n  \"id\": \"51\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Arezzo\",\r\n  \"sigla_automobilistica\": \"AR\",\r\n  \"latitudine\": 43.466896,\r\n  \"longitudine\": 11.88236\r\n}, {\r\n  \"id\": \"44\",\r\n  \"id_regione\": \"11\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ascoli Piceno\",\r\n  \"sigla_automobilistica\": \"AP\",\r\n  \"latitudine\": 42.863893,\r\n  \"longitudine\": 13.589973\r\n}, {\r\n  \"id\": \"5\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Asti\",\r\n  \"sigla_automobilistica\": \"AT\",\r\n  \"latitudine\": 44.900765,\r\n  \"longitudine\": 8.206432\r\n}, {\r\n  \"id\": \"64\",\r\n  \"id_regione\": \"15\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Avellino\",\r\n  \"sigla_automobilistica\": \"AV\",\r\n  \"latitudine\": 40.996451,\r\n  \"longitudine\": 15.125896\r\n}, {\r\n  \"id\": \"72\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": \"272\",\r\n  \"nome\": \"Bari\",\r\n  \"sigla_automobilistica\": \"BA\",\r\n  \"latitudine\": 41.117123,\r\n  \"longitudine\": 16.871976\r\n}, {\r\n  \"id\": \"110\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Barletta-Andria-Trani\",\r\n  \"sigla_automobilistica\": \"BT\",\r\n  \"latitudine\": 41.200454,\r\n  \"longitudine\": 16.205148\r\n}, {\r\n  \"id\": \"25\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Belluno\",\r\n  \"sigla_automobilistica\": \"BL\",\r\n  \"latitudine\": 46.249766,\r\n  \"longitudine\": 12.196957\r\n}, {\r\n  \"id\": \"62\",\r\n  \"id_regione\": \"15\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Benevento\",\r\n  \"sigla_automobilistica\": \"BN\",\r\n  \"latitudine\": 41.203509,\r\n  \"longitudine\": 14.752094\r\n}, {\r\n  \"id\": \"16\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Bergamo\",\r\n  \"sigla_automobilistica\": \"BG\",\r\n  \"latitudine\": 45.85783,\r\n  \"longitudine\": 9.881998\r\n}, {\r\n  \"id\": \"96\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Biella\",\r\n  \"sigla_automobilistica\": \"BI\",\r\n  \"latitudine\": 45.562818,\r\n  \"longitudine\": 8.058272\r\n}, {\r\n  \"id\": \"37\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": \"237\",\r\n  \"nome\": \"Bologna\",\r\n  \"sigla_automobilistica\": \"BO\",\r\n  \"latitudine\": 44.50051,\r\n  \"longitudine\": 11.304784\r\n}, {\r\n  \"id\": \"21\",\r\n  \"id_regione\": \"4\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Bolzano/Bozen\",\r\n  \"sigla_automobilistica\": \"BZ\",\r\n  \"latitudine\": 46.734096,\r\n  \"longitudine\": 11.288802\r\n}, {\r\n  \"id\": \"17\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Brescia\",\r\n  \"sigla_automobilistica\": \"BS\",\r\n  \"latitudine\": 45.659677,\r\n  \"longitudine\": 10.385672\r\n}, {\r\n  \"id\": \"74\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Brindisi\",\r\n  \"sigla_automobilistica\": \"BR\",\r\n  \"latitudine\": 40.611266,\r\n  \"longitudine\": 17.763621\r\n}, {\r\n  \"id\": \"92\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Cagliari\",\r\n  \"sigla_automobilistica\": \"CA\",\r\n  \"latitudine\": 39.223763,\r\n  \"longitudine\": 9.121867\r\n}, {\r\n  \"id\": \"85\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Caltanissetta\",\r\n  \"sigla_automobilistica\": \"CL\",\r\n  \"latitudine\": 37.490112,\r\n  \"longitudine\": 14.062893\r\n}, {\r\n  \"id\": \"70\",\r\n  \"id_regione\": \"14\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Campobasso\",\r\n  \"sigla_automobilistica\": \"CB\",\r\n  \"latitudine\": 41.673887,\r\n  \"longitudine\": 14.752094\r\n}, {\r\n  \"id\": \"107\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Carbonia-Iglesias\",\r\n  \"sigla_automobilistica\": \"CI\",\r\n  \"latitudine\": 39.253466,\r\n  \"longitudine\": 8.572102\r\n}, {\r\n  \"id\": \"61\",\r\n  \"id_regione\": \"15\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Caserta\",\r\n  \"sigla_automobilistica\": \"CE\",\r\n  \"latitudine\": 41.207835,\r\n  \"longitudine\": 14.100133\r\n}, {\r\n  \"id\": \"87\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Catania\",\r\n  \"sigla_automobilistica\": \"CT\",\r\n  \"latitudine\": 37.612598,\r\n  \"longitudine\": 14.938885\r\n}, {\r\n  \"id\": \"79\",\r\n  \"id_regione\": \"18\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Catanzaro\",\r\n  \"sigla_automobilistica\": \"CZ\",\r\n  \"latitudine\": 38.889635,\r\n  \"longitudine\": 16.440587\r\n}, {\r\n  \"id\": \"69\",\r\n  \"id_regione\": \"13\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Chieti\",\r\n  \"sigla_automobilistica\": \"CH\",\r\n  \"latitudine\": 42.033443,\r\n  \"longitudine\": 14.379191\r\n}, {\r\n  \"id\": \"13\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Como\",\r\n  \"sigla_automobilistica\": \"CO\",\r\n  \"latitudine\": 45.808042,\r\n  \"longitudine\": 9.085179\r\n}, {\r\n  \"id\": \"78\",\r\n  \"id_regione\": \"18\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Cosenza\",\r\n  \"sigla_automobilistica\": \"CS\",\r\n  \"latitudine\": 39.564411,\r\n  \"longitudine\": 16.252214\r\n}, {\r\n  \"id\": \"19\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Cremona\",\r\n  \"sigla_automobilistica\": \"CR\",\r\n  \"latitudine\": 45.201438,\r\n  \"longitudine\": 9.983658\r\n}, {\r\n  \"id\": \"101\",\r\n  \"id_regione\": \"18\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Crotone\",\r\n  \"sigla_automobilistica\": \"KR\",\r\n  \"latitudine\": 39.130986,\r\n  \"longitudine\": 17.006703\r\n}, {\r\n  \"id\": \"4\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Cuneo\",\r\n  \"sigla_automobilistica\": \"CN\",\r\n  \"latitudine\": 44.597031,\r\n  \"longitudine\": 7.611422\r\n}, {\r\n  \"id\": \"86\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Enna\",\r\n  \"sigla_automobilistica\": \"EN\",\r\n  \"latitudine\": 37.516481,\r\n  \"longitudine\": 14.379191\r\n}, {\r\n  \"id\": \"109\",\r\n  \"id_regione\": \"11\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Fermo\",\r\n  \"sigla_automobilistica\": \"FM\",\r\n  \"latitudine\": 43.093137,\r\n  \"longitudine\": 13.589973\r\n}, {\r\n  \"id\": \"38\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ferrara\",\r\n  \"sigla_automobilistica\": \"FE\",\r\n  \"latitudine\": 44.766368,\r\n  \"longitudine\": 11.764407\r\n}, {\r\n  \"id\": \"48\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": \"248\",\r\n  \"nome\": \"Firenze\",\r\n  \"sigla_automobilistica\": \"FI\",\r\n  \"latitudine\": 43.767918,\r\n  \"longitudine\": 11.252379\r\n}, {\r\n  \"id\": \"71\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Foggia\",\r\n  \"sigla_automobilistica\": \"FG\",\r\n  \"latitudine\": 41.638448,\r\n  \"longitudine\": 15.594339\r\n}, {\r\n  \"id\": \"40\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Forl\u00EC-Cesena\",\r\n  \"sigla_automobilistica\": \"FC\",\r\n  \"latitudine\": 44.2225,\r\n  \"longitudine\": 12.040833\r\n}, {\r\n  \"id\": \"60\",\r\n  \"id_regione\": \"12\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Frosinone\",\r\n  \"sigla_automobilistica\": \"FR\",\r\n  \"latitudine\": 41.657653,\r\n  \"longitudine\": 13.636272\r\n}, {\r\n  \"id\": \"10\",\r\n  \"id_regione\": \"7\",\r\n  \"codice_citta_metropolitana\": \"210\",\r\n  \"nome\": \"Genova\",\r\n  \"sigla_automobilistica\": \"GE\",\r\n  \"latitudine\": 44.446625,\r\n  \"longitudine\": 9.145615\r\n}, {\r\n  \"id\": \"31\",\r\n  \"id_regione\": \"6\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Gorizia\",\r\n  \"sigla_automobilistica\": \"GO\",\r\n  \"latitudine\": 45.90539,\r\n  \"longitudine\": 13.516373\r\n}, {\r\n  \"id\": \"53\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Grosseto\",\r\n  \"sigla_automobilistica\": \"GR\",\r\n  \"latitudine\": 42.851801,\r\n  \"longitudine\": 11.252379\r\n}, {\r\n  \"id\": \"8\",\r\n  \"id_regione\": \"7\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Imperia\",\r\n  \"sigla_automobilistica\": \"IM\",\r\n  \"latitudine\": 43.941866,\r\n  \"longitudine\": 7.828637\r\n}, {\r\n  \"id\": \"94\",\r\n  \"id_regione\": \"14\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Isernia\",\r\n  \"sigla_automobilistica\": \"IS\",\r\n  \"latitudine\": 41.589156,\r\n  \"longitudine\": 14.193092\r\n}, {\r\n  \"id\": \"66\",\r\n  \"id_regione\": \"13\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"L'Aquila\",\r\n  \"sigla_automobilistica\": \"AQ\",\r\n  \"latitudine\": 42.349848,\r\n  \"longitudine\": 13.399509\r\n}, {\r\n  \"id\": \"11\",\r\n  \"id_regione\": \"7\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"La Spezia\",\r\n  \"sigla_automobilistica\": \"SP\",\r\n  \"latitudine\": 44.10245,\r\n  \"longitudine\": 9.824083\r\n}, {\r\n  \"id\": \"59\",\r\n  \"id_regione\": \"12\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Latina\",\r\n  \"sigla_automobilistica\": \"LT\",\r\n  \"latitudine\": 41.408748,\r\n  \"longitudine\": 13.08179\r\n}, {\r\n  \"id\": \"75\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Lecce\",\r\n  \"sigla_automobilistica\": \"LE\",\r\n  \"latitudine\": 40.234739,\r\n  \"longitudine\": 18.142867\r\n}, {\r\n  \"id\": \"97\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Lecco\",\r\n  \"sigla_automobilistica\": \"LC\",\r\n  \"latitudine\": 45.938294,\r\n  \"longitudine\": 9.385729\r\n}, {\r\n  \"id\": \"49\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Livorno\",\r\n  \"sigla_automobilistica\": \"LI\",\r\n  \"latitudine\": 43.023985,\r\n  \"longitudine\": 10.66471\r\n}, {\r\n  \"id\": \"98\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Lodi\",\r\n  \"sigla_automobilistica\": \"LO\",\r\n  \"latitudine\": 45.240504,\r\n  \"longitudine\": 9.529251\r\n}, {\r\n  \"id\": \"46\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Lucca\",\r\n  \"sigla_automobilistica\": \"LU\",\r\n  \"latitudine\": 43.837674,\r\n  \"longitudine\": 10.495053\r\n}, {\r\n  \"id\": \"43\",\r\n  \"id_regione\": \"11\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Macerata\",\r\n  \"sigla_automobilistica\": \"MC\",\r\n  \"latitudine\": 43.245932,\r\n  \"longitudine\": 13.266348\r\n}, {\r\n  \"id\": \"20\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Mantova\",\r\n  \"sigla_automobilistica\": \"MN\",\r\n  \"latitudine\": 45.156417,\r\n  \"longitudine\": 10.791375\r\n}, {\r\n  \"id\": \"45\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Massa-Carrara\",\r\n  \"sigla_automobilistica\": \"MS\",\r\n  \"latitudine\": 44.079325,\r\n  \"longitudine\": 10.097677\r\n}, {\r\n  \"id\": \"77\",\r\n  \"id_regione\": \"17\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Matera\",\r\n  \"sigla_automobilistica\": \"MT\",\r\n  \"latitudine\": 40.66635,\r\n  \"longitudine\": 16.604364\r\n}, {\r\n  \"id\": \"106\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Medio Campidano\",\r\n  \"sigla_automobilistica\": \"VS\",\r\n  \"latitudine\": 39.531739,\r\n  \"longitudine\": 8.704075\r\n}, {\r\n  \"id\": \"83\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Messina\",\r\n  \"sigla_automobilistica\": \"ME\",\r\n  \"latitudine\": 38.06324,\r\n  \"longitudine\": 14.985618\r\n}, {\r\n  \"id\": \"15\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": \"215\",\r\n  \"nome\": \"Milano\",\r\n  \"sigla_automobilistica\": \"MI\",\r\n  \"latitudine\": 45.458626,\r\n  \"longitudine\": 9.181873\r\n}, {\r\n  \"id\": \"36\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Modena\",\r\n  \"sigla_automobilistica\": \"MO\",\r\n  \"latitudine\": 44.55138,\r\n  \"longitudine\": 10.918048\r\n}, {\r\n  \"id\": \"108\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Monza e della Brianza\",\r\n  \"sigla_automobilistica\": \"MB\",\r\n  \"latitudine\": 45.623599,\r\n  \"longitudine\": 9.258802\r\n}, {\r\n  \"id\": \"63\",\r\n  \"id_regione\": \"15\",\r\n  \"codice_citta_metropolitana\": \"263\",\r\n  \"nome\": \"Napoli\",\r\n  \"sigla_automobilistica\": \"NA\",\r\n  \"latitudine\": 40.901975,\r\n  \"longitudine\": 14.332644\r\n}, {\r\n  \"id\": \"3\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Novara\",\r\n  \"sigla_automobilistica\": \"NO\",\r\n  \"latitudine\": 45.548513,\r\n  \"longitudine\": 8.515079\r\n}, {\r\n  \"id\": \"91\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Nuoro\",\r\n  \"sigla_automobilistica\": \"NU\",\r\n  \"latitudine\": 40.32869,\r\n  \"longitudine\": 9.456155\r\n}, {\r\n  \"id\": \"105\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ogliastra\",\r\n  \"sigla_automobilistica\": \"OG\",\r\n  \"latitudine\": 39.841054,\r\n  \"longitudine\": 9.456155\r\n}, {\r\n  \"id\": \"104\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Olbia-Tempio\",\r\n  \"sigla_automobilistica\": \"OT\",\r\n  \"latitudine\": 40.826838,\r\n  \"longitudine\": 9.278558\r\n}, {\r\n  \"id\": \"95\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Oristano\",\r\n  \"sigla_automobilistica\": \"OR\",\r\n  \"latitudine\": 40.059907,\r\n  \"longitudine\": 8.748117\r\n}, {\r\n  \"id\": \"28\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Padova\",\r\n  \"sigla_automobilistica\": \"PD\",\r\n  \"latitudine\": 45.366186,\r\n  \"longitudine\": 11.820914\r\n}, {\r\n  \"id\": \"82\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Palermo\",\r\n  \"sigla_automobilistica\": \"PA\",\r\n  \"latitudine\": 38.115621,\r\n  \"longitudine\": 13.361318\r\n}, {\r\n  \"id\": \"34\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Parma\",\r\n  \"sigla_automobilistica\": \"PR\",\r\n  \"latitudine\": 44.801532,\r\n  \"longitudine\": 10.327935\r\n}, {\r\n  \"id\": \"18\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pavia\",\r\n  \"sigla_automobilistica\": \"PV\",\r\n  \"latitudine\": 45.321817,\r\n  \"longitudine\": 8.846624\r\n}, {\r\n  \"id\": \"54\",\r\n  \"id_regione\": \"10\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Perugia\",\r\n  \"sigla_automobilistica\": \"PG\",\r\n  \"latitudine\": 42.938004,\r\n  \"longitudine\": 12.621621\r\n}, {\r\n  \"id\": \"41\",\r\n  \"id_regione\": \"11\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pesaro e Urbino\",\r\n  \"sigla_automobilistica\": \"PU\",\r\n  \"latitudine\": 43.613012,\r\n  \"longitudine\": 12.713512\r\n}, {\r\n  \"id\": \"68\",\r\n  \"id_regione\": \"13\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pescara\",\r\n  \"sigla_automobilistica\": \"PE\",\r\n  \"latitudine\": 42.357066,\r\n  \"longitudine\": 13.960809\r\n}, {\r\n  \"id\": \"33\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Piacenza\",\r\n  \"sigla_automobilistica\": \"PC\",\r\n  \"latitudine\": 44.826311,\r\n  \"longitudine\": 9.529145\r\n}, {\r\n  \"id\": \"50\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pisa\",\r\n  \"sigla_automobilistica\": \"PI\",\r\n  \"latitudine\": 43.722832,\r\n  \"longitudine\": 10.401719\r\n}, {\r\n  \"id\": \"47\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pistoia\",\r\n  \"sigla_automobilistica\": \"PT\",\r\n  \"latitudine\": 43.954373,\r\n  \"longitudine\": 10.89031\r\n}, {\r\n  \"id\": \"93\",\r\n  \"id_regione\": \"6\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Pordenone\",\r\n  \"sigla_automobilistica\": \"PN\",\r\n  \"latitudine\": 46.037886,\r\n  \"longitudine\": 12.710835\r\n}, {\r\n  \"id\": \"76\",\r\n  \"id_regione\": \"17\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Potenza\",\r\n  \"sigla_automobilistica\": \"PZ\",\r\n  \"latitudine\": 40.418219,\r\n  \"longitudine\": 15.876004\r\n}, {\r\n  \"id\": \"100\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Prato\",\r\n  \"sigla_automobilistica\": \"PO\",\r\n  \"latitudine\": 44.04539,\r\n  \"longitudine\": 11.116445\r\n}, {\r\n  \"id\": \"88\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ragusa\",\r\n  \"sigla_automobilistica\": \"RG\",\r\n  \"latitudine\": 36.930622,\r\n  \"longitudine\": 14.705431\r\n}, {\r\n  \"id\": \"39\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Ravenna\",\r\n  \"sigla_automobilistica\": \"RA\",\r\n  \"latitudine\": 44.418444,\r\n  \"longitudine\": 12.2036\r\n}, {\r\n  \"id\": \"80\",\r\n  \"id_regione\": \"18\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Reggio di Calabria\",\r\n  \"sigla_automobilistica\": \"RC\",\r\n  \"latitudine\": 38.111301,\r\n  \"longitudine\": 15.647291\r\n}, {\r\n  \"id\": \"35\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Reggio nell'Emilia\",\r\n  \"sigla_automobilistica\": \"RE\",\r\n  \"latitudine\": 44.585658,\r\n  \"longitudine\": 10.556474\r\n}, {\r\n  \"id\": \"57\",\r\n  \"id_regione\": \"12\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Rieti\",\r\n  \"sigla_automobilistica\": \"RI\",\r\n  \"latitudine\": 42.367441,\r\n  \"longitudine\": 12.89751\r\n}, {\r\n  \"id\": \"99\",\r\n  \"id_regione\": \"8\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Rimini\",\r\n  \"sigla_automobilistica\": \"RN\",\r\n  \"latitudine\": 43.967605,\r\n  \"longitudine\": 12.575703\r\n}, {\r\n  \"id\": \"58\",\r\n  \"id_regione\": \"12\",\r\n  \"codice_citta_metropolitana\": \"258\",\r\n  \"nome\": \"Roma\",\r\n  \"sigla_automobilistica\": \"RM\",\r\n  \"latitudine\": 41.872411,\r\n  \"longitudine\": 12.480225\r\n}, {\r\n  \"id\": \"29\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Rovigo\",\r\n  \"sigla_automobilistica\": \"RO\",\r\n  \"latitudine\": 45.024182,\r\n  \"longitudine\": 11.823816\r\n}, {\r\n  \"id\": \"65\",\r\n  \"id_regione\": \"15\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Salerno\",\r\n  \"sigla_automobilistica\": \"SA\",\r\n  \"latitudine\": 40.428783,\r\n  \"longitudine\": 15.219481\r\n}, {\r\n  \"id\": \"90\",\r\n  \"id_regione\": \"20\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Sassari\",\r\n  \"sigla_automobilistica\": \"SS\",\r\n  \"latitudine\": 40.796791,\r\n  \"longitudine\": 8.575041\r\n}, {\r\n  \"id\": \"9\",\r\n  \"id_regione\": \"7\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Savona\",\r\n  \"sigla_automobilistica\": \"SV\",\r\n  \"latitudine\": 44.2888,\r\n  \"longitudine\": 8.265058\r\n}, {\r\n  \"id\": \"52\",\r\n  \"id_regione\": \"9\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Siena\",\r\n  \"sigla_automobilistica\": \"SI\",\r\n  \"latitudine\": 43.293773,\r\n  \"longitudine\": 11.433915\r\n}, {\r\n  \"id\": \"89\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Siracusa\",\r\n  \"sigla_automobilistica\": \"SR\",\r\n  \"latitudine\": 37.075437,\r\n  \"longitudine\": 15.286593\r\n}, {\r\n  \"id\": \"14\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Sondrio\",\r\n  \"sigla_automobilistica\": \"SO\",\r\n  \"latitudine\": 46.172764,\r\n  \"longitudine\": 9.799492\r\n}, {\r\n  \"id\": \"73\",\r\n  \"id_regione\": \"16\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Taranto\",\r\n  \"sigla_automobilistica\": \"TA\",\r\n  \"latitudine\": 40.57409,\r\n  \"longitudine\": 17.242998\r\n}, {\r\n  \"id\": \"67\",\r\n  \"id_regione\": \"13\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Teramo\",\r\n  \"sigla_automobilistica\": \"TE\",\r\n  \"latitudine\": 42.589561,\r\n  \"longitudine\": 13.636272\r\n}, {\r\n  \"id\": \"55\",\r\n  \"id_regione\": \"10\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Terni\",\r\n  \"sigla_automobilistica\": \"TR\",\r\n  \"latitudine\": 42.563453,\r\n  \"longitudine\": 12.529803\r\n}, {\r\n  \"id\": \"1\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": \"201\",\r\n  \"nome\": \"Torino\",\r\n  \"sigla_automobilistica\": \"TO\",\r\n  \"latitudine\": 45.063299,\r\n  \"longitudine\": 7.669289\r\n}, {\r\n  \"id\": \"81\",\r\n  \"id_regione\": \"19\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Trapani\",\r\n  \"sigla_automobilistica\": \"TP\",\r\n  \"latitudine\": 37.87774,\r\n  \"longitudine\": 12.713512\r\n}, {\r\n  \"id\": \"22\",\r\n  \"id_regione\": \"4\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Trento\",\r\n  \"sigla_automobilistica\": \"TN\",\r\n  \"latitudine\": 46.0512,\r\n  \"longitudine\": 11.117539\r\n}, {\r\n  \"id\": \"26\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Treviso\",\r\n  \"sigla_automobilistica\": \"TV\",\r\n  \"latitudine\": 45.666852,\r\n  \"longitudine\": 12.243062\r\n}, {\r\n  \"id\": \"32\",\r\n  \"id_regione\": \"6\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Trieste\",\r\n  \"sigla_automobilistica\": \"TS\",\r\n  \"latitudine\": 45.689482,\r\n  \"longitudine\": 13.783307\r\n}, {\r\n  \"id\": \"30\",\r\n  \"id_regione\": \"6\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Udine\",\r\n  \"sigla_automobilistica\": \"UD\",\r\n  \"latitudine\": 46.140797,\r\n  \"longitudine\": 13.16629\r\n}, {\r\n  \"id\": \"7\",\r\n  \"id_regione\": \"2\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Valle d'Aosta/Vall\u00E9e d'Aoste\",\r\n  \"sigla_automobilistica\": \"AO\",\r\n  \"latitudine\": 45.738888,\r\n  \"longitudine\": 7.426187\r\n}, {\r\n  \"id\": \"12\",\r\n  \"id_regione\": \"3\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Varese\",\r\n  \"sigla_automobilistica\": \"VA\",\r\n  \"latitudine\": 45.799026,\r\n  \"longitudine\": 8.730095\r\n}, {\r\n  \"id\": \"27\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": \"227\",\r\n  \"nome\": \"Venezia\",\r\n  \"sigla_automobilistica\": \"VE\",\r\n  \"latitudine\": 45.493048,\r\n  \"longitudine\": 12.4177\r\n}, {\r\n  \"id\": \"103\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Verbano-Cusio-Ossola\",\r\n  \"sigla_automobilistica\": \"VB\",\r\n  \"latitudine\": 46.139969,\r\n  \"longitudine\": 8.272465\r\n}, {\r\n  \"id\": \"2\",\r\n  \"id_regione\": \"1\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Vercelli\",\r\n  \"sigla_automobilistica\": \"VC\",\r\n  \"latitudine\": 45.32022,\r\n  \"longitudine\": 8.418508\r\n}, {\r\n  \"id\": \"23\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Verona\",\r\n  \"sigla_automobilistica\": \"VR\",\r\n  \"latitudine\": 45.44185,\r\n  \"longitudine\": 11.073532\r\n}, {\r\n  \"id\": \"102\",\r\n  \"id_regione\": \"18\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Vibo Valentia\",\r\n  \"sigla_automobilistica\": \"VV\",\r\n  \"latitudine\": 38.637857,\r\n  \"longitudine\": 16.205148\r\n}, {\r\n  \"id\": \"24\",\r\n  \"id_regione\": \"5\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Vicenza\",\r\n  \"sigla_automobilistica\": \"VI\",\r\n  \"latitudine\": 45.545479,\r\n  \"longitudine\": 11.535421\r\n}, {\r\n  \"id\": \"56\",\r\n  \"id_regione\": \"12\",\r\n  \"codice_citta_metropolitana\": null,\r\n  \"nome\": \"Viterbo\",\r\n  \"sigla_automobilistica\": \"VT\",\r\n  \"latitudine\": 42.420677,\r\n  \"longitudine\": 12.107669\r\n}]");

            for (int i = 0; i < italianSuburbsJSON.length(); i++) {
                JSONObject child = italianSuburbsJSON.getJSONObject(i);
                italianSuburbs_coordinates_Map.put(child.getString("nome"), new GeoLocation(child.getDouble                             ("latitudine"),child.getDouble("longitudine")));
            }
        }
        catch(JSONException e){
            Log.e(deBugTag,e.getMessage());
            return;
        }
    }

    public List<String> getItalianSuburbsList(){
        List<String> list = new LinkedList<>();
        list.add("");
        list.addAll(italianSuburbs_coordinates_Map.keySet());
        Collections.sort(list, new Comparator<String>() {
            @Override
            public int compare(String s1, String s2) {
                return s1.compareTo(s2);
            }
        });
        return list;
    }

    public GeoLocation getCoordinates(String suburbs){
        return italianSuburbs_coordinates_Map.get(suburbs);
    }

    public String getSuburbs(GeoLocation geoLocation){
        for(Map.Entry<String,GeoLocation> entry :italianSuburbs_coordinates_Map.entrySet()){
            if( entry.getValue().latitude == geoLocation.latitude && entry.getValue().longitude == geoLocation.longitude)
                return entry.getKey();
        }
        return null;
    }
}